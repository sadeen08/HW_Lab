<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiment 10: Routing - Study Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
        }

        .badge {
            display: inline-block;
            background: #ff6b6b;
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: bold;
            margin-bottom: 15px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        header h1 {
            font-size: 2.5em;
            margin: 15px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
            padding: 0;
            list-style: none;
        }

        .nav-grid li a {
            display: block;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .nav-grid li a:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        section {
            margin: 50px 0;
            scroll-margin-top: 20px;
        }

        h2 {
            color: #1e3c72;
            font-size: 2em;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 4px solid #667eea;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        h3 {
            color: #2a5298;
            font-size: 1.5em;
            margin: 30px 0 15px 0;
            padding-left: 15px;
            border-left: 5px solid #667eea;
        }

        .card {
            background: #f8f9fa;
            padding: 25px;
            margin: 20px 0;
            border-radius: 10px;
            border-left: 5px solid #3498db;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .key-point {
            background: #d4edda;
            border-left: 5px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .key-point::before {
            content: "üí° ";
            font-size: 1.5em;
        }

        .warning {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .warning::before {
            content: "‚ö†Ô∏è ";
            font-size: 1.5em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
        }

        tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        tr:hover {
            background-color: #e9ecef;
        }

        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 25px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.5;
        }

        .code-block .keyword {
            color: #c678dd;
            font-weight: bold;
        }

        .code-block .string {
            color: #98c379;
        }

        .code-block .comment {
            color: #5c6370;
            font-style: italic;
        }

        .code-block .function {
            color: #61afef;
        }

        .qa-pair {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .question {
            color: #1e3c72;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .question::before {
            content: "Q: ";
            color: #667eea;
            font-weight: bold;
        }

        .answer {
            color: #555;
            padding-left: 20px;
            line-height: 1.8;
        }

        .answer::before {
            content: "A: ";
            color: #28a745;
            font-weight: bold;
        }

        .mistake-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .wrong-box {
            background: #f8d7da;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #dc3545;
        }

        .wrong-box h4 {
            color: #dc3545;
            margin-bottom: 10px;
        }

        .wrong-box h4::before {
            content: "‚ùå ";
        }

        .correct-box {
            background: #d4edda;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #28a745;
        }

        .correct-box h4 {
            color: #28a745;
            margin-bottom: 10px;
        }

        .correct-box h4::before {
            content: "‚úÖ ";
        }

        .reference-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .ref-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .ref-card h4 {
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding-bottom: 10px;
        }

        .ref-card ul {
            list-style: none;
            padding: 0;
        }

        .ref-card li {
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .ref-card li::before {
            content: "‚ñ∏";
            position: absolute;
            left: 0;
            color: #ffd700;
        }

        .checklist {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin: 30px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .checklist-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: white;
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 2px solid #e0e0e0;
        }

        .checklist-item:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .checklist-item input[type="checkbox"] {
            width: 25px;
            height: 25px;
            margin-right: 15px;
            cursor: pointer;
        }

        .checklist-item label {
            cursor: pointer;
            user-select: none;
            flex: 1;
        }

        footer {
            background: #1e3c72;
            color: white;
            text-align: center;
            padding: 30px;
            margin-top: 50px;
        }

        footer p {
            margin: 10px 0;
        }

        .emoji-icon {
            font-size: 1.5em;
            margin-right: 10px;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container {
                box-shadow: none;
            }
            .badge {
                animation: none;
            }
            .print-btn {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .mistake-grid {
                grid-template-columns: 1fr;
            }
            header h1 {
                font-size: 1.8em;
            }
            .content {
                padding: 20px;
            }
        }

        .print-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .print-btn:hover {
            background: #764ba2;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="badge">üéØ FINAL EXAM MATERIAL</div>
            <h1>Experiment 10: Routing</h1>
            <p>Hardware Design Lab | Complete Study Guide</p>
        </header>

        <div class="content">
            <section id="toc">
                <h2><span class="emoji-icon">üìë</span>Table of Contents</h2>
                <ul class="nav-grid">
                    <li><a href="#objectives">Objectives</a></li>
                    <li><a href="#concepts">Core Concepts</a></li>
                    <li><a href="#routing-basics">Routing Basics</a></li>
                    <li><a href="#routing-algorithms">Routing Algorithms</a></li>
                    <li><a href="#timing">Timing Analysis</a></li>
                    <li><a href="#code">Complete Code</a></li>
                    <li><a href="#questions">Expected Questions</a></li>
                    <li><a href="#mistakes">Common Mistakes</a></li>
                    <li><a href="#reference">Quick Reference</a></li>
                    <li><a href="#checklist">Exam Checklist</a></li>
                </ul>
            </section>

            <section id="objectives">
                <h2><span class="emoji-icon">üéØ</span>Objectives</h2>
                <div class="card">
                    <h3>Learning Objectives</h3>
                    <ul style="padding-left: 25px; line-height: 2;">
                        <li>Understand the routing process in VLSI physical design</li>
                        <li>Learn about different routing algorithms and their applications</li>
                        <li>Master the concepts of global routing and detailed routing</li>
                        <li>Analyze timing constraints and signal integrity during routing</li>
                        <li>Implement routing techniques using EDA tools</li>
                        <li>Optimize routing for area, timing, and power</li>
                    </ul>
                </div>
            </section>

            <section id="concepts">
                <h2><span class="emoji-icon">üìö</span>Core Concepts</h2>
                
                <div class="card">
                    <h3>What is Routing?</h3>
                    <p><strong>Routing</strong> is the process of creating physical connections between pins of different cells using metal layers while satisfying design rules and constraints. It is one of the most critical and complex steps in VLSI physical design.</p>
                </div>

                <div class="key-point">
                    <strong>Key Insight:</strong> Routing determines the actual wire paths on the chip, directly affecting performance, power consumption, and manufacturability. Good routing can make or break a design!
                </div>

                <h3>Routing Hierarchy</h3>
                <table>
                    <tr>
                        <th>Routing Stage</th>
                        <th>Description</th>
                        <th>Output</th>
                    </tr>
                    <tr>
                        <td><strong>Global Routing</strong></td>
                        <td>Divides the chip into routing regions and assigns nets to these regions</td>
                        <td>Routing topology (coarse paths)</td>
                    </tr>
                    <tr>
                        <td><strong>Track Assignment</strong></td>
                        <td>Assigns nets to specific tracks within routing regions</td>
                        <td>Track-level connections</td>
                    </tr>
                    <tr>
                        <td><strong>Detailed Routing</strong></td>
                        <td>Creates actual geometric paths for each net following design rules</td>
                        <td>Final metal geometries</td>
                    </tr>
                </table>

                <div class="warning">
                    <strong>Important:</strong> Global routing must be completed before detailed routing. Trying to skip global routing leads to poor routing quality and potential routing failures!
                </div>
            </section>

            <section id="routing-basics">
                <h2><span class="emoji-icon">üîå</span>Routing Basics</h2>

                <h3>Routing Grid</h3>
                <div class="card">
                    <p>The routing area is divided into a grid structure where:</p>
                    <ul style="padding-left: 25px; line-height: 2;">
                        <li><strong>Horizontal tracks:</strong> Available positions for horizontal wires</li>
                        <li><strong>Vertical tracks:</strong> Available positions for vertical wires</li>
                        <li><strong>Routing pitch:</strong> Minimum spacing between parallel wires</li>
                        <li><strong>Vias:</strong> Connections between different metal layers</li>
                    </ul>
                </div>

                <h3>Metal Layers</h3>
                <table>
                    <tr>
                        <th>Layer Type</th>
                        <th>Preferred Direction</th>
                        <th>Typical Use</th>
                    </tr>
                    <tr>
                        <td>Metal 1 (M1)</td>
                        <td>Horizontal</td>
                        <td>Local connections, cell internal routing</td>
                    </tr>
                    <tr>
                        <td>Metal 2 (M2)</td>
                        <td>Vertical</td>
                        <td>Inter-cell connections</td>
                    </tr>
                    <tr>
                        <td>Metal 3 (M3)</td>
                        <td>Horizontal</td>
                        <td>Medium-distance routing</td>
                    </tr>
                    <tr>
                        <td>Metal 4+ (M4-M10)</td>
                        <td>Alternating H/V</td>
                        <td>Long-distance, clock, power routing</td>
                    </tr>
                </table>

                <div class="key-point">
                    <strong>Design Rule:</strong> Higher metal layers have lower resistance but higher capacitance. Use lower layers for short connections and higher layers for long-distance or critical timing paths.
                </div>

                <h3>Routing Objectives</h3>
                <div class="card">
                    <ol style="padding-left: 25px; line-height: 2;">
                        <li><strong>100% Connectivity:</strong> Connect all pins that need to be connected</li>
                        <li><strong>Design Rule Clean (DRC):</strong> Meet all spacing, width, and via rules</li>
                        <li><strong>Minimize Wire Length:</strong> Reduce delay and power consumption</li>
                        <li><strong>Meet Timing:</strong> Satisfy setup and hold time requirements</li>
                        <li><strong>Minimize Vias:</strong> Reduce resistance and improve yield</li>
                        <li><strong>Avoid Congestion:</strong> Distribute wires evenly across the chip</li>
                    </ol>
                </div>
            </section>

            <section id="routing-algorithms">
                <h2><span class="emoji-icon">üßÆ</span>Routing Algorithms</h2>

                <h3>Maze Routing (Lee's Algorithm)</h3>
                <div class="card">
                    <p><strong>Concept:</strong> Finds the shortest path between two points using wave propagation technique.</p>
                    <p><strong>Steps:</strong></p>
                    <ol style="padding-left: 25px; line-height: 2;">
                        <li>Start from source pin and propagate wave to all reachable neighbors</li>
                        <li>Continue wave expansion until target pin is reached</li>
                        <li>Backtrace from target to source to find the path</li>
                    </ol>
                    <p><strong>Complexity:</strong> O(n¬≤) time, O(n¬≤) space</p>
                </div>

                <div class="key-point">
                    <strong>Advantage:</strong> Maze routing always finds a path if one exists. It's guaranteed to find the shortest path!
                </div>

                <div class="warning">
                    <strong>Limitation:</strong> Very slow for large designs due to high memory and time requirements. Not practical for full-chip routing.
                </div>

                <h3>Line Search Routing</h3>
                <div class="card">
                    <p><strong>Concept:</strong> Uses straight-line search from source toward target, changing direction only when blocked.</p>
                    <p><strong>Characteristics:</strong></p>
                    <ul style="padding-left: 25px; line-height: 2;">
                        <li>Much faster than maze routing</li>
                        <li>Uses less memory</li>
                        <li>May not find shortest path</li>
                        <li>Good for initial routing attempts</li>
                    </ul>
                </div>

                <h3>Channel Routing</h3>
                <div class="card">
                    <p><strong>Concept:</strong> Routes nets through a channel between two rows of cells.</p>
                    <p><strong>Dogleg Routing:</strong> Allows nets to change tracks vertically within the channel to resolve conflicts.</p>
                </div>

                <h3>A* Search Algorithm</h3>
                <div class="card">
                    <p><strong>Concept:</strong> Heuristic-based pathfinding that estimates the cost to reach the target.</p>
                    <p><strong>Formula:</strong> f(n) = g(n) + h(n)</p>
                    <ul style="padding-left: 25px; line-height: 1.8;">
                        <li><strong>g(n):</strong> Cost from source to current node</li>
                        <li><strong>h(n):</strong> Estimated cost from current node to target (heuristic)</li>
                        <li><strong>f(n):</strong> Total estimated cost</li>
                    </ul>
                </div>

                <div class="key-point">
                    <strong>Efficiency:</strong> A* is much faster than maze routing while still finding optimal or near-optimal paths when using appropriate heuristics!
                </div>

                <h3>Routing Algorithm Comparison</h3>
                <table>
                    <tr>
                        <th>Algorithm</th>
                        <th>Speed</th>
                        <th>Quality</th>
                        <th>Best Use Case</th>
                    </tr>
                    <tr>
                        <td>Maze (Lee's)</td>
                        <td>Slow ‚ö†Ô∏è</td>
                        <td>Optimal ‚úì</td>
                        <td>Small critical nets</td>
                    </tr>
                    <tr>
                        <td>Line Search</td>
                        <td>Fast ‚úì</td>
                        <td>Good</td>
                        <td>Initial routing pass</td>
                    </tr>
                    <tr>
                        <td>A* Search</td>
                        <td>Fast ‚úì</td>
                        <td>Very Good ‚úì</td>
                        <td>General purpose routing</td>
                    </tr>
                    <tr>
                        <td>Steiner Tree</td>
                        <td>Medium</td>
                        <td>Optimal ‚úì</td>
                        <td>Multi-pin nets</td>
                    </tr>
                </table>
            </section>

            <section id="timing">
                <h2><span class="emoji-icon">‚è±Ô∏è</span>Timing Analysis & Optimization</h2>

                <h3>Delay Components in Routing</h3>
                <div class="card">
                    <p><strong>Wire Delay = f(Resistance, Capacitance)</strong></p>
                    <ul style="padding-left: 25px; line-height: 2;">
                        <li><strong>Resistance (R):</strong> Proportional to wire length and inversely proportional to wire width</li>
                        <li><strong>Capacitance (C):</strong> Proportional to wire length and area</li>
                        <li><strong>RC Delay:</strong> Dominant delay component for long wires</li>
                    </ul>
                    <p><strong>Elmore Delay Model:</strong> œÑ = Œ£(R<sub>i</sub> √ó C<sub>i</sub>)</p>
                </div>

                <h3>Signal Integrity Issues</h3>
                <table>
                    <tr>
                        <th>Issue</th>
                        <th>Cause</th>
                        <th>Solution</th>
                    </tr>
                    <tr>
                        <td><strong>Crosstalk</strong></td>
                        <td>Coupling capacitance between adjacent wires</td>
                        <td>Increase spacing, shield critical nets</td>
                    </tr>
                    <tr>
                        <td><strong>IR Drop</strong></td>
                        <td>Voltage drop across power grid resistance</td>
                        <td>Wider power wires, multiple vias</td>
                    </tr>
                    <tr>
                        <td><strong>Electromigration</strong></td>
                        <td>High current density in narrow wires</td>
                        <td>Wider wires for high-current paths</td>
                    </tr>
                    <tr>
                        <td><strong>Antenna Effect</strong></td>
                        <td>Charge accumulation during manufacturing</td>
                        <td>Add diodes, break long wires</td>
                    </tr>
                </table>

                <div class="warning">
                    <strong>Critical Timing Paths:</strong> Always route timing-critical paths first using lower-resistance metal layers and minimal detours!
                </div>

                <h3>Routing Optimization Techniques</h3>
                <div class="card">
                    <h4>1. Layer Assignment</h4>
                    <ul style="padding-left: 25px; line-height: 1.8;">
                        <li>Use higher metal layers for long nets (lower resistance)</li>
                        <li>Use lower layers for short connections (lower capacitance)</li>
                    </ul>

                    <h4 style="margin-top: 20px;">2. Wire Sizing</h4>
                    <ul style="padding-left: 25px; line-height: 1.8;">
                        <li>Widen critical nets to reduce resistance</li>
                        <li>Keep non-critical nets at minimum width to save area</li>
                    </ul>

                    <h4 style="margin-top: 20px;">3. Buffer Insertion</h4>
                    <ul style="padding-left: 25px; line-height: 1.8;">
                        <li>Break long wires with buffers/repeaters</li>
                        <li>Reduces RC delay significantly</li>
                        <li>Trade-off: Area and power increase</li>
                    </ul>

                    <h4 style="margin-top: 20px;">4. Shielding</h4>
                    <ul style="padding-left: 25px; line-height: 1.8;">
                        <li>Add ground/power wires between critical signals</li>
                        <li>Reduces crosstalk noise</li>
                    </ul>
                </div>

                <div class="key-point">
                    <strong>Golden Rule:</strong> Route critical paths first, optimize for timing, then route remaining nets optimizing for area and congestion!
                </div>
            </section>

            <section id="code">
                <h2><span class="emoji-icon">üíª</span>Complete Code Examples</h2>

                <h3>1. TCL Script for Routing in Physical Design</h3>
                <div class="code-block">
<span class="comment"># Load design after placement</span>
<span class="keyword">read_def</span> <span class="string">placed_design.def</span>

<span class="comment"># Set routing layers</span>
<span class="keyword">set_route_mode</span> -min_routing_layer M2
<span class="keyword">set_route_mode</span> -max_routing_layer M8

<span class="comment"># Configure routing options</span>
<span class="keyword">set_route_mode</span> -route_detail_effort high
<span class="keyword">set_route_mode</span> -route_global_effort high

<span class="comment"># Set routing constraints</span>
<span class="keyword">set_route_spacing_rule</span> -layer M1 -value 0.2
<span class="keyword">set_route_width_rule</span> -layer M1 -value 0.1

<span class="comment"># Perform global routing</span>
<span class="keyword">route_global</span> -verbose

<span class="comment"># Check for routing congestion</span>
<span class="keyword">report_route</span> -congestion

<span class="comment"># Perform track assignment</span>
<span class="keyword">route_track</span>

<span class="comment"># Perform detailed routing</span>
<span class="keyword">route_detail</span>

<span class="comment"># Optimize routing for timing</span>
<span class="keyword">route_opt</span> -effort high

<span class="comment"># Check for routing violations</span>
<span class="keyword">verify_drc</span>
<span class="keyword">report_route</span> -detailed

<span class="comment"># Extract parasitics for timing analysis</span>
<span class="keyword">extract_rc</span>
<span class="keyword">write_spef</span> <span class="string">design.spef</span>

<span class="comment"># Save routed design</span>
<span class="keyword">write_def</span> <span class="string">routed_design.def</span>
                </div>

                <h3>2. Python Script for Maze Routing Algorithm</h3>
                <div class="code-block">
<span class="keyword">from</span> collections <span class="keyword">import</span> deque

<span class="keyword">def</span> <span class="function">maze_routing</span>(grid, start, end):
    <span class="string">"""
    Lee's Maze Routing Algorithm
    grid: 2D array (0=free, 1=blocked)
    start: (row, col) starting point
    end: (row, col) ending point
    Returns: List of coordinates forming the path
    """</span>
    rows, cols = <span class="function">len</span>(grid), <span class="function">len</span>(grid[0])
    
    <span class="comment"># Check if start and end are valid</span>
    <span class="keyword">if</span> grid[start[0]][start[1]] == 1 <span class="keyword">or</span> grid[end[0]][end[1]] == 1:
        <span class="keyword">return</span> <span class="keyword">None</span>  <span class="comment"># Blocked</span>
    
    <span class="comment"># Initialize distance map</span>
    distance = [[-1] * cols <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="function">range</span>(rows)]
    distance[start[0]][start[1]] = 0
    
    <span class="comment"># Wave propagation using BFS</span>
    queue = deque([start])
    directions = [(0,1), (1,0), (0,-1), (-1,0)]  <span class="comment"># Right, Down, Left, Up</span>
    
    <span class="keyword">while</span> queue:
        row, col = queue.popleft()
        
        <span class="keyword">if</span> (row, col) == end:
            <span class="keyword">break</span>
        
        <span class="comment"># Explore neighbors</span>
        <span class="keyword">for</span> dr, dc <span class="keyword">in</span> directions:
            new_row, new_col = row + dr, col + dc
            
            <span class="comment"># Check bounds and availability</span>
            <span class="keyword">if</span> (0 <= new_row < rows <span class="keyword">and</span> 
                0 <= new_col < cols <span class="keyword">and</span>
                grid[new_row][new_col] == 0 <span class="keyword">and</span>
                distance[new_row][new_col] == -1):
                
                distance[new_row][new_col] = distance[row][col] + 1
                queue.append((new_row, new_col))
    
    <span class="comment"># Check if path exists</span>
    <span class="keyword">if</span> distance[end[0]][end[1]] == -1:
        <span class="keyword">return</span> <span class="keyword">None</span>  <span class="comment"># No path found</span>
    
    <span class="comment"># Backtrace to find path</span>
    path = []
    row, col = end
    
    <span class="keyword">while</span> (row, col) != start:
        path.append((row, col))
        current_dist = distance[row][col]
        
        <span class="comment"># Find neighbor with distance = current - 1</span>
        <span class="keyword">for</span> dr, dc <span class="keyword">in</span> directions:
            new_row, new_col = row + dr, col + dc
            <span class="keyword">if</span> (0 <= new_row < rows <span class="keyword">and</span> 
                0 <= new_col < cols <span class="keyword">and</span>
                distance[new_row][new_col] == current_dist - 1):
                row, col = new_row, new_col
                <span class="keyword">break</span>
    
    path.append(start)
    path.reverse()
    <span class="keyword">return</span> path


<span class="comment"># Example usage</span>
grid = [
    [0, 0, 0, 1, 0],
    [0, 1, 0, 1, 0],
    [0, 0, 0, 0, 0],
    [1, 1, 0, 1, 0],
    [0, 0, 0, 0, 0]
]

start = (0, 0)
end = (4, 4)

path = <span class="function">maze_routing</span>(grid, start, end)
<span class="keyword">if</span> path:
    <span class="function">print</span>(<span class="string">f"Path found: {path}"</span>)
    <span class="function">print</span>(<span class="string">f"Path length: {len(path)}"</span>)
<span class="keyword">else</span>:
    <span class="function">print</span>(<span class="string">"No path exists"</span>)
                </div>

                <h3>3. Verilog Code for Routing Testbench</h3>
                <div class="code-block">
<span class="comment">// Simple routing testbench to verify connections</span>
<span class="keyword">module</span> routing_testbench;
    
    <span class="comment">// Test signals</span>
    <span class="keyword">reg</span> clk;
    <span class="keyword">reg</span> rst_n;
    <span class="keyword">reg</span> [7:0] data_in;
    <span class="keyword">wire</span> [7:0] data_out;
    <span class="keyword">wire</span> valid;
    
    <span class="comment">// Instantiate design under test</span>
    <span class="keyword">design_module</span> dut (
        .clk(clk),
        .rst_n(rst_n),
        .data_in(data_in),
        .data_out(data_out),
        .valid(valid)
    );
    
    <span class="comment">// Clock generation</span>
    <span class="keyword">initial</span> <span class="keyword">begin</span>
        clk = 0;
        <span class="keyword">forever</span> #5 clk = ~clk;  <span class="comment">// 10ns period</span>
    <span class="keyword">end</span>
    
    <span class="comment">// Test sequence</span>
    <span class="keyword">initial</span> <span class="keyword">begin</span>
        <span class="comment">// Initialize</span>
        rst_n = 0;
        data_in = 8'h00;
        
        <span class="comment">// Reset pulse</span>
        #20 rst_n = 1;
        
        <span class="comment">// Test routing with data patterns</span>
        #10 data_in = 8'hAA;
        #10 data_in = 8'h55;
        #10 data_in = 8'hFF;
        #10 data_in = 8'h00;
        
        <span class="comment">// Check outputs</span>
        #50;
        <span class="keyword">if</span> (valid)
            $<span class="function">display</span>(<span class="string">"Routing successful: Output = %h"</span>, data_out);
        <span class="keyword">else</span>
            $<span class="function">display</span>(<span class="string">"Routing failed: No valid output"</span>);
        
        #100 $<span class="function">finish</span>;
    <span class="keyword">end</span>
    
    <span class="comment">// Monitor signals for timing analysis</span>
    <span class="keyword">initial</span> <span class="keyword">begin</span>
        $<span class="function">monitor</span>(<span class="string">"Time=%0t clk=%b data_in=%h data_out=%h valid=%b"</span>,
                 $<span class="function">time</span>, clk, data_in, data_out, valid);
    <span class="keyword">end</span>
    
    <span class="comment">// Dump waveforms for analysis</span>
    <span class="keyword">initial</span> <span class="keyword">begin</span>
        $<span class="function">dumpfile</span>(<span class="string">"routing_test.vcd"</span>);
        $<span class="function">dumpvars</span>(0, routing_testbench);
    <span class="keyword">end</span>
    
<span class="keyword">endmodule</span>
                </div>

                <h3>4. Constraint File (SDC) for Timing-Driven Routing</h3>
                <div class="code-block">
<span class="comment"># Create clock with period and uncertainty</span>
<span class="keyword">create_clock</span> -name sys_clk -period 10.0 [<span class="keyword">get_ports</span> clk]
<span class="keyword">set_clock_uncertainty</span> 0.5 [<span class="keyword">get_clocks</span> sys_clk]

<span class="comment"># Set input/output delays</span>
<span class="keyword">set_input_delay</span> 2.0 -clock sys_clk [<span class="keyword">all_inputs</span>]
<span class="keyword">set_output_delay</span> 2.0 -clock sys_clk [<span class="keyword">all_outputs</span>]

<span class="comment"># Set load capacitance for outputs</span>
<span class="keyword">set_load</span> 0.05 [<span class="keyword">all_outputs</span>]

<span class="comment"># Set driving cell for inputs</span>
<span class="keyword">set_driving_cell</span> -lib_cell BUFX2 [<span class="keyword">all_inputs</span>]

<span class="comment"># Set maximum transition time</span>
<span class="keyword">set_max_transition</span> 0.5 [<span class="keyword">current_design</span>]

<span class="comment"># Set maximum capacitance</span>
<span class="keyword">set_max_capacitance</span> 0.1 [<span class="keyword">current_design</span>]

<span class="comment"># Critical path constraints</span>
<span class="keyword">set_max_delay</span> 8.0 -from [<span class="keyword">get_ports</span> data_in] -to [<span class="keyword">get_ports</span> data_out]

<span class="comment"># Multi-cycle paths (if any)</span>
<span class="keyword">set_multicycle_path</span> 2 -from [<span class="keyword">get_pins</span> reg1/*] -to [<span class="keyword">get_pins</span> reg2/*]

<span class="comment"># False paths (asynchronous signals)</span>
<span class="keyword">set_false_path</span> -from [<span class="keyword">get_ports</span> async_rst]

<span class="comment"># Net-specific routing constraints</span>
<span class="keyword">set_net_routing_rule</span> -rule double_width [<span class="keyword">get_nets</span> critical_net]
                </div>
            </section>

            <section id="questions">
                <h2><span class="emoji-icon">‚ùì</span>Expected Exam Questions</h2>

                <div class="qa-pair">
                    <div class="question">What is the difference between global routing and detailed routing?</div>
                    <div class="answer">
                        Global routing divides the chip into routing regions and determines which regions each net should pass through, creating a coarse routing topology. Detailed routing takes the global routing solution and creates actual geometric wire paths that follow all design rules (spacing, width, etc.). Global routing is fast and focuses on overall routability, while detailed routing is more time-consuming and ensures DRC-clean implementation.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">Explain Lee's Maze Routing algorithm and its complexity.</div>
                    <div class="answer">
                        Lee's algorithm uses wave propagation starting from the source pin. It expands outward to all reachable neighbors layer by layer until reaching the target pin. Then it backtraces from target to source to find the path. Time complexity is O(n¬≤) and space complexity is O(n¬≤), where n is the grid size. It guarantees finding the shortest path if one exists, but is very slow for large designs.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">What are the main objectives of routing in VLSI design?</div>
                    <div class="answer">
                        The main objectives are: (1) Achieve 100% connectivity for all nets, (2) Meet all design rule checks (DRC) - spacing, width, via rules, (3) Minimize total wire length to reduce delay and power, (4) Meet timing constraints (setup/hold times), (5) Minimize number of vias to improve reliability, (6) Avoid routing congestion and distribute wires evenly across the chip.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">How does RC delay affect routing decisions?</div>
                    <div class="answer">
                        RC delay is the product of wire resistance and capacitance. Resistance increases with wire length and decreases with width. Capacitance increases with wire length and area. For long wires, RC delay dominates gate delay. To minimize it: use higher metal layers (lower resistance) for long nets, widen critical nets to reduce resistance, insert buffers/repeaters to break long wires, and minimize detours on timing-critical paths.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">What is crosstalk and how can it be prevented during routing?</div>
                    <div class="answer">
                        Crosstalk is unwanted signal coupling between adjacent wires caused by coupling capacitance. When one wire switches, it can induce noise on neighboring wires, causing glitches or timing violations. Prevention methods: (1) Increase spacing between sensitive nets, (2) Shield critical signals with ground/power wires, (3) Use different metal layers for adjacent signals, (4) Apply crosstalk-aware routing algorithms, (5) Buffer aggressive drivers.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">Why are different metal layers used for horizontal and vertical routing?</div>
                    <div class="answer">
                        Using preferred directions (alternating horizontal and vertical for consecutive layers) reduces the number of vias needed and simplifies the routing process. Vias add resistance and can cause reliability issues. The Manhattan routing model works efficiently with this approach. Typically: M1=horizontal, M2=vertical, M3=horizontal, etc. This also helps reduce routing conflicts and congestion.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">What is the antenna effect and how is it addressed?</div>
                    <div class="answer">
                        The antenna effect (or plasma-induced gate oxide damage) occurs during manufacturing when long metal wires accumulate charge during plasma etching, which can discharge through thin gate oxides causing permanent damage. Solutions: (1) Add antenna diodes to provide a discharge path, (2) Break long wires into segments connected at higher layers (layer jumping), (3) Route critical gates on lower, shorter layers, (4) Use antenna rules checking during routing.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">Compare maze routing with A* search algorithm.</div>
                    <div class="answer">
                        Maze routing explores all possible paths uniformly (BFS), guaranteeing the shortest path but with O(n¬≤) complexity. A* uses a heuristic function h(n) to guide the search toward the target, making it much faster while still finding optimal or near-optimal paths. A* complexity is typically O(n log n) with good heuristics. Maze is better for small, critical nets where optimality is crucial; A* is better for general routing where speed matters.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">What is routing congestion and how is it resolved?</div>
                    <div class="answer">
                        Routing congestion occurs when too many nets need to pass through a region with limited routing resources (tracks). This can cause routing failures or long detours. Resolution strategies: (1) During placement, spread cells to reduce local density, (2) Use congestion-driven placement, (3) Perform iterative rip-up and reroute of conflicting nets, (4) Layer promotion - move some nets to higher layers, (5) Cell resizing or repositioning in congested areas.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">Why is timing-driven routing important?</div>
                    <div class="answer">
                        Timing-driven routing ensures that the physical routing meets timing constraints (setup and hold times). Without it, critical paths may have excessive wire delay causing timing violations. It prioritizes routing of timing-critical nets first, minimizes detours on critical paths, uses lower-resistance layers, may widen critical wires, and can insert buffers/repeaters strategically. This is essential because modern chips operate at high frequencies where wire delay can exceed gate delay.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">What is the purpose of buffer insertion during routing?</div>
                    <div class="answer">
                        Buffers (repeaters) are inserted along long wires to break them into shorter segments, significantly reducing RC delay. A long wire has quadratic delay (proportional to L¬≤), but inserting buffers makes delay approximately linear. Trade-offs: buffers consume area and power, add design complexity, but enable faster operation and better signal integrity. Buffer insertion is critical for long global interconnects and clock distribution networks.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">Explain the concept of multi-layer routing.</div>
                    <div class="answer">
                        Multi-layer routing uses multiple metal layers stacked vertically to route connections. Lower layers (M1-M3) have higher resistance but lower capacitance, used for short local connections. Higher layers (M4-M10) have lower resistance but higher capacitance, used for long-distance routing, power distribution, and clock networks. Vias connect different layers. Using multiple layers increases routing capacity and allows successful routing of complex designs with high interconnect density.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">What design rules must be followed during routing?</div>
                    <div class="answer">
                        Key design rules include: (1) Minimum wire width - to ensure manufacturability, (2) Minimum spacing between wires - to prevent shorts, (3) Minimum via size and spacing, (4) Maximum current density - to prevent electromigration, (5) Minimum area rules - for large features, (6) Antenna rules - to prevent oxide damage, (7) Metal density rules - for planarization. Violating these causes DRC errors and manufacturing failures.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">How does routing affect power consumption?</div>
                    <div class="answer">
                        Routing affects both dynamic and static power. Dynamic power (CV¬≤f) increases with wire capacitance - longer wires and larger areas increase C. Static power increases with leakage through longer paths. To reduce power: minimize total wire length, use lower metal layers for short connections (lower C), avoid unnecessary vias, optimize net ordering to reduce switching activity, and use power-aware routing algorithms that consider capacitance impact.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">What is the difference between Manhattan and diagonal routing?</div>
                    <div class="answer">
                        Manhattan routing allows only horizontal and vertical wire segments (90¬∞ angles), matching the preferred routing directions of metal layers. It's simpler to implement and matches the grid structure. Diagonal routing allows 45¬∞ or arbitrary angle connections, which can reduce wire length (shorter paths) but requires special design rules, complicates DRC checking, and may not align with preferred routing grids. Most modern designs use Manhattan routing for simplicity.
                    </div>
                </div>
            </section>

            <section id="mistakes">
                <h2><span class="emoji-icon">‚ö°</span>Common Mistakes & How to Avoid Them</h2>

                <div class="mistake-grid">
                    <div class="wrong-box">
                        <h4>Wrong Approach</h4>
                        <p><strong>Skipping global routing and going directly to detailed routing</strong></p>
                        <p>This leads to routing failures, poor distribution of nets, and unresolvable congestion issues.</p>
                    </div>
                    <div class="correct-box">
                        <h4>Correct Approach</h4>
                        <p><strong>Always perform global routing first</strong></p>
                        <p>Complete global routing to get routing topology, check for congestion, then proceed to detailed routing. This ensures better overall routing quality.</p>
                    </div>
                </div>

                <div class="mistake-grid">
                    <div class="wrong-box">
                        <h4>Wrong Approach</h4>
                        <p><strong>Using lowest metal layers for long interconnects</strong></p>
                        <p>M1/M2 have high resistance per unit length. Long wires on these layers cause excessive RC delay and timing violations.</p>
                    </div>
                    <div class="correct-box">
                        <h4>Correct Approach</h4>
                        <p><strong>Use higher metal layers (M4+) for long nets</strong></p>
                        <p>Higher layers have lower resistance, making them ideal for long-distance routing, clock distribution, and critical timing paths.</p>
                    </div>
                </div>

                <div class="mistake-grid">
                    <div class="wrong-box">
                        <h4>Wrong Approach</h4>
                        <p><strong>Ignoring crosstalk between parallel wires</strong></p>
                        <p>Adjacent switching signals can couple noise, causing glitches, timing violations, or functional failures in sensitive circuits.</p>
                    </div>
                    <div class="correct-box">
                        <h4>Correct Approach</h4>
                        <p><strong>Apply spacing rules and shielding for critical nets</strong></p>
                        <p>Increase spacing between sensitive signals, use ground/power shields, or route on different layers to minimize coupling capacitance.</p>
                    </div>
                </div>

                <div class="mistake-grid">
                    <div class="wrong-box">
                        <h4>Wrong Approach</h4>
                        <p><strong>Routing all nets with equal priority</strong></p>
                        <p>Non-critical nets may block routing resources needed for timing-critical paths, causing timing failures later.</p>
                    </div>
                    <div class="correct-box">
                        <h4>Correct Approach</h4>
                        <p><strong>Route timing-critical nets first</strong></p>
                        <p>Prioritize critical paths, clock nets, and high-speed signals. Route non-critical nets after ensuring critical timing is met.</p>
                    </div>
                </div>

                <div class="mistake-grid">
                    <div class="wrong-box">
                        <h4>Wrong Approach</h4>
                        <p><strong>Excessive use of vias without consideration</strong></p>
                        <p>Each via adds resistance (~10-50Œ©), increases fabrication complexity, and can cause reliability issues (via failures).</p>
                    </div>
                    <div class="correct-box">
                        <h4>Correct Approach</h4>
                        <p><strong>Minimize via count, especially on critical paths</strong></p>
                        <p>Route with minimal layer changes. When vias are needed, use double/redundant vias for better reliability and lower resistance.</p>
                    </div>
                </div>

                <div class="mistake-grid">
                    <div class="wrong-box">
                        <h4>Wrong Approach</h4>
                        <p><strong>Not considering antenna violations during routing</strong></p>
                        <p>Long metal runs can accumulate charge during fabrication, damaging thin gate oxides permanently.</p>
                    </div>
                    <div class="correct-box">
                        <h4>Correct Approach</h4>
                        <p><strong>Check antenna rules and add protection</strong></p>
                        <p>Insert antenna diodes, use layer jumping to break long connections, or route sensitive gates on lower/shorter layers.</p>
                    </div>
                </div>

                <div class="mistake-grid">
                    <div class="wrong-box">
                        <h4>Wrong Approach</h4>
                        <p><strong>Ignoring power grid routing</strong></p>
                        <p>Insufficient power routing causes IR drop, voltage droops during switching, and potential logic failures or timing issues.</p>
                    </div>
                    <div class="correct-box">
                        <h4>Correct Approach</h4>
                        <p><strong>Design robust power grid with adequate width</strong></p>
                        <p>Use top metal layers for power distribution, ensure sufficient width for current requirements, add multiple vias for low resistance.</p>
                    </div>
                </div>

                <div class="mistake-grid">
                    <div class="wrong-box">
                        <h4>Wrong Approach</h4>
                        <p><strong>Not extracting parasitics after routing</strong></p>
                        <p>Timing analysis without actual routing parasitics is inaccurate. Real delays may differ significantly from estimated delays.</p>
                    </div>
                    <div class="correct-box">
                        <h4>Correct Approach</h4>
                        <p><strong>Extract RC parasitics and re-run timing analysis</strong></p>
                        <p>Generate SPEF file after routing, perform post-route timing analysis, and fix any violations discovered.</p>
                    </div>
                </div>

                <div class="warning" style="margin-top: 40px;">
                    <strong>Remember:</strong> Routing is an iterative process. Expect to do multiple rounds of optimization. Always verify DRC, timing, and signal integrity after each routing iteration!
                </div>
            </section>

            <section id="reference">
                <h2><span class="emoji-icon">üìã</span>Quick Reference Cards</h2>

                <div class="reference-grid">
                    <div class="ref-card">
                        <h4>üîÑ Routing Flow</h4>
                        <ul>
                            <li>Load placed design (DEF)</li>
                            <li>Set routing layers & rules</li>
                            <li>Perform global routing</li>
                            <li>Check congestion</li>
                            <li>Track assignment</li>
                            <li>Detailed routing</li>
                            <li>Route optimization</li>
                            <li>DRC verification</li>
                            <li>Extract parasitics</li>
                            <li>Timing analysis</li>
                        </ul>
                    </div>

                    <div class="ref-card">
                        <h4>‚öôÔ∏è Key Algorithms</h4>
                        <ul>
                            <li><strong>Maze:</strong> O(n¬≤), optimal path</li>
                            <li><strong>Line Search:</strong> Fast, good quality</li>
                            <li><strong>A*:</strong> Heuristic, near-optimal</li>
                            <li><strong>Steiner:</strong> Multi-pin optimization</li>
                            <li><strong>Channel:</strong> Row-based routing</li>
                        </ul>
                    </div>

                    <div class="ref-card">
                        <h4>üìè Design Rules</h4>
                        <ul>
                            <li>Minimum wire width</li>
                            <li>Minimum spacing</li>
                            <li>Via size & spacing</li>
                            <li>Current density limits</li>
                            <li>Antenna ratios</li>
                            <li>Metal density (fill)</li>
                        </ul>
                    </div>

                    <div class="ref-card">
                        <h4>üéØ Optimization Goals</h4>
                        <ul>
                            <li>100% connectivity</li>
                            <li>DRC clean</li>
                            <li>Minimize wire length</li>
                            <li>Meet timing constraints</li>
                            <li>Minimize vias</li>
                            <li>Reduce congestion</li>
                            <li>Optimize power</li>
                        </ul>
                    </div>

                    <div class="ref-card">
                        <h4>‚ö° Timing Factors</h4>
                        <ul>
                            <li>RC delay = f(R √ó C)</li>
                            <li>R ‚àù length / width</li>
                            <li>C ‚àù length √ó area</li>
                            <li>Buffer insertion breaks RC¬≤</li>
                            <li>Higher layers = lower R</li>
                            <li>Crosstalk adds delay</li>
                        </ul>
                    </div>

                    <div class="ref-card">
                        <h4>üîç Common Issues</h4>
                        <ul>
                            <li>DRC violations</li>
                            <li>Routing congestion</li>
                            <li>Timing violations</li>
                            <li>Crosstalk noise</li>
                            <li>IR drop</li>
                            <li>Antenna violations</li>
                            <li>Electromigration</li>
                        </ul>
                    </div>

                    <div class="ref-card">
                        <h4>üõ†Ô∏è TCL Commands</h4>
                        <ul>
                            <li>route_global</li>
                            <li>route_track</li>
                            <li>route_detail</li>
                            <li>route_opt</li>
                            <li>verify_drc</li>
                            <li>extract_rc</li>
                            <li>write_spef</li>
                        </ul>
                    </div>

                    <div class="ref-card">
                        <h4>üìä Metal Layers</h4>
                        <ul>
                            <li><strong>M1:</strong> Local, horizontal</li>
                            <li><strong>M2:</strong> Inter-cell, vertical</li>
                            <li><strong>M3-M4:</strong> Mid-range</li>
                            <li><strong>M5+:</strong> Long distance</li>
                            <li><strong>Top:</strong> Power grid, clock</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="checklist">
                <h2><span class="emoji-icon">‚úÖ</span>Exam Preparation Checklist</h2>
                
                <div class="checklist">
                    <h3 style="margin-bottom: 20px; color: #1e3c72;">Concepts to Master</h3>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check1">
                        <label for="check1">Understand the difference between global and detailed routing</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check2">
                        <label for="check2">Can explain Lee's Maze routing algorithm step-by-step</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check3">
                        <label for="check3">Know the complexity analysis of different routing algorithms</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check4">
                        <label for="check4">Understand RC delay calculation and its impact on timing</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check5">
                        <label for="check5">Can identify and solve routing congestion problems</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check6">
                        <label for="check6">Know how to prevent crosstalk and signal integrity issues</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check7">
                        <label for="check7">Understand metal layer stack and preferred routing directions</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check8">
                        <label for="check8">Can explain antenna effect and its prevention methods</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check9">
                        <label for="check9">Know design rules: spacing, width, via rules</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check10">
                        <label for="check10">Understand timing-driven routing and optimization techniques</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check11">
                        <label for="check11">Can write basic TCL routing commands</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check12">
                        <label for="check12">Know how buffer insertion reduces delay</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check13">
                        <label for="check13">Understand channel routing and dogleg routing</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check14">
                        <label for="check14">Can explain A* algorithm and its heuristics</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check15">
                        <label for="check15">Know the complete routing flow from placement to timing analysis</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check16">
                        <label for="check16">Understand power grid routing and IR drop issues</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check17">
                        <label for="check17">Can identify wrong vs correct routing practices</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check18">
                        <label for="check18">Know how to extract parasitics and perform post-route analysis</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check19">
                        <label for="check19">Reviewed all code examples and can explain each section</label>
                    </div>
                    
                    <div class="checklist-item">
                        <input type="checkbox" id="check20">
                        <label for="check20">Practiced answering all expected exam questions</label>
                    </div>
                </div>

                <div class="key-point" style="margin-top: 30px;">
                    <strong>Study Tip:</strong> Focus on understanding concepts rather than memorizing. Be able to explain trade-offs and justify routing decisions. Practice drawing routing examples and solving routing problems on paper!
                </div>
            </section>

            <section id="mq">
                <h2><span class="emoji-icon">üí≠</span>Expected Multiple Choice Questions</h2>

                <div class="qa-pair">
                    <div class="question">Which routing algorithm guarantees finding the shortest path but has O(n¬≤) complexity?</div>
                    <div class="answer">
                        <strong>Answer: Lee's Maze Routing Algorithm</strong><br>
                        Lee's algorithm uses BFS wave propagation which explores all paths uniformly, guaranteeing the shortest path but requiring O(n¬≤) time and space.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">Which metal layer is typically used for power grid distribution?</div>
                    <div class="answer">
                        <strong>Answer: Top metal layers (M8-M10)</strong><br>
                        Top layers have the lowest resistance and can carry high currents with minimal IR drop, making them ideal for power distribution.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">What is the primary cause of crosstalk in routed designs?</div>
                    <div class="answer">
                        <strong>Answer: Coupling capacitance between adjacent parallel wires</strong><br>
                        When two wires run parallel and close together, capacitive coupling causes signal from one wire to affect the other.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">Which routing stage comes first in the physical design flow?</div>
                    <div class="answer">
                        <strong>Answer: Global Routing</strong><br>
                        The routing hierarchy is: Global Routing ‚Üí Track Assignment ‚Üí Detailed Routing. Global routing must be completed first.
                    </div>
                </div>

                <div class="qa-pair">
                    <div class="question">What does SPEF file contain after routing?</div>
                    <div class="answer">
                        <strong>Answer: Parasitic resistance and capacitance values (RC parasitics)</strong><br>
                        SPEF (Standard Parasitic Exchange Format) contains extracted R, C, and RC values for timing analysis.
                    </div>
                </div>
            </section>

        </div>

        <footer>
            <h3 style="margin-bottom: 15px;">üéì Hardware Design Lab</h3>
            <p><strong>Experiment 10: Routing</strong></p>
            <p>Complete Study Guide for Final Exam</p>
            <p style="margin-top: 20px; font-size: 1.1em;">Good Luck on Your Exam! üçÄ</p>
            <p style="margin-top: 10px; opacity: 0.8;">Remember: Understanding concepts > Memorization</p>
        </footer>
    </div>

    <button class="print-btn" onclick="window.print()">üñ®Ô∏è Print Guide</button>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Save checklist state to localStorage
        document.querySelectorAll('.checklist-item input[type="checkbox"]').forEach(checkbox => {
            // Load saved state
            const savedState = localStorage.getItem(checkbox.id);
            if (savedState === 'true') {
                checkbox.checked = true;
            }

            // Save on change
            checkbox.addEventListener('change', function() {
                localStorage.setItem(this.id, this.checked);
            });
        });
    </script>
</body>
</html>